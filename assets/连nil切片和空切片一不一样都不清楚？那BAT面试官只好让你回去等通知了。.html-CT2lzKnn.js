import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as i,c,a as n,b as a,d as t,e}from"./app-D3PKci_G.js";const l={},u=e(`<figure><img src="https://cdn.xiaobaidebug.top/image/640-20210524195843699.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h1 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h1><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;reflect&quot;</span>
	<span class="token string">&quot;unsafe&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> s1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>   <span class="token comment">// nil切片</span>
	s2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// 空切片</span>
	s4 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>   <span class="token comment">// 空切片</span>

	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;s1 pointer:%+v, s2 pointer:%+v, s4 pointer:%+v, \\n&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v\\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Data<span class="token operator">==</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Data<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%v\\n&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Data<span class="token operator">==</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>nil 切片和空切片指向的地址一样吗？这个代码会输出什么？</strong></p><h1 id="怎么答" tabindex="-1"><a class="header-anchor" href="#怎么答"><span>怎么答</span></a></h1><ul><li><strong>nil 切片和空切片指向的地址不一样。nil 空切片引用数组指针地址为 0（无指向任何实际地址）</strong></li><li><strong>空切片的引用数组指针地址是有的，且固定为一个值</strong></li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>s1 pointer:{Data:0 Len:0 Cap:0}, s2 pointer:{Data:824634207952 Len:0 Cap:0}, s4 pointer:{Data:824634207952 Len:0 Cap:0},
false //nil切片和空切片指向的数组地址不一样
true  //两个空切片指向的数组地址是一样的，都是824634207952
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="解释" tabindex="-1"><a class="header-anchor" href="#解释"><span>解释</span></a></h1>`,8),r={href:"https://zhuanlan.zhihu.com/p/144923309",target:"_blank",rel:"noopener noreferrer"},d=e(`<div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">type</span> SliceHeader <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 Data <span class="token builtin">uintptr</span>  <span class="token comment">//引用数组指针地址</span>
 Len  <span class="token builtin">int</span>     <span class="token comment">// 切片的目前使用长度</span>
 Cap  <span class="token builtin">int</span>     <span class="token comment">// 切片的容量</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>nil 切片和空切片最大的区别在于<strong>指向的数组引用地址是不一样的</strong>。<br><img src="https://cdn.xiaobaidebug.top/image/640.png" alt="img" loading="lazy"></p></li><li><p><strong>所有的空切片指向的数组引用地址都是一样的</strong><br><img src="https://cdn.xiaobaidebug.top/image/640-20210524195829623.png" alt="img" loading="lazy"></p></li></ul><h1 id="文章推荐" tabindex="-1"><a class="header-anchor" href="#文章推荐"><span>文章推荐：</span></a></h1>`,3),k={href:"https://zhuanlan.zhihu.com/p/257802146",target:"_blank",rel:"noopener noreferrer"},g={href:"https://zhuanlan.zhihu.com/p/150629411",target:"_blank",rel:"noopener noreferrer"},m={href:"https://zhuanlan.zhihu.com/p/149796956",target:"_blank",rel:"noopener noreferrer"},h={href:"https://zhuanlan.zhihu.com/p/148341972",target:"_blank",rel:"noopener noreferrer"},_={href:"https://zhuanlan.zhihu.com/p/148175563",target:"_blank",rel:"noopener noreferrer"},b={href:"https://zhuanlan.zhihu.com/p/146590283",target:"_blank",rel:"noopener noreferrer"},f={href:"https://zhuanlan.zhihu.com/p/145468000",target:"_blank",rel:"noopener noreferrer"},E={href:"https://zhuanlan.zhihu.com/p/144923309",target:"_blank",rel:"noopener noreferrer"},v={href:"https://zhuanlan.zhihu.com/p/143056105",target:"_blank",rel:"noopener noreferrer"},A=n("code",null,"中文、数字、英文字母",-1),B={href:"https://zhuanlan.zhihu.com/p/144980413",target:"_blank",rel:"noopener noreferrer"},x={href:"https://zhuanlan.zhihu.com/p/145220416",target:"_blank",rel:"noopener noreferrer"},z=n("h5",{id:"如果你想每天学习一个知识点-关注我的【公】【众】【号】【小白-debug】。",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#如果你想每天学习一个知识点-关注我的【公】【众】【号】【小白-debug】。"},[n("span",null,"如果你想每天学习一个知识点，关注我的【公】【众】【号】【小白 debug】。")])],-1);function y(D,T){const s=o("ExternalLinkIcon");return i(),c("div",null,[u,n("ul",null,[n("li",null,[a("之前在"),n("a",r,[a("前面的文章"),t(s)]),a("里提到过切片的数据结构为")])]),d,n("ul",null,[n("li",null,[n("a",k,[a("昨天那个在 for 循环里 append 元素的同事，今天还在么？"),t(s)])]),n("li",null,[n("a",g,[a("对已经关闭的的 chan 进行读写，会怎么样？为什么？"),t(s)])]),n("li",null,[n("a",m,[a("对未初始化的的 chan 进行读写，会怎么样？为什么？"),t(s)])]),n("li",null,[n("a",h,[a("golang 面试题：reflect（反射包）如何获取字段 tag？为什么 json 包不能导出私有变量的 tag？"),t(s)])]),n("li",null,[n("a",_,[a("golang 面试题：json 包变量不加 tag 会怎么样？"),t(s)])]),n("li",null,[n("a",b,[a("golang 面试题：怎么避免内存逃逸？？"),t(s)])]),n("li",null,[n("a",f,[a("golang 面试题：简单聊聊内存逃逸？"),t(s)])]),n("li",null,[n("a",E,[a("golang 面试题：字符串转成 byte 数组，会发生内存拷贝吗？"),t(s)])]),n("li",null,[n("a",v,[a("golang 面试题：翻转含有"),A,a("的字符串"),t(s)])]),n("li",null,[n("a",B,[a("golang 面试题：拷贝大切片一定比小切片代价大吗？"),t(s)])]),n("li",null,[n("a",x,[a("golang 面试题：能说说 uintptr 和 unsafe.Pointer 的区别吗？"),t(s)])])]),z])}const q=p(l,[["render",y],["__file","连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。.html.vue"]]),C=JSON.parse('{"path":"/golang/golang%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%BF%9Enil%E5%88%87%E7%89%87%E5%92%8C%E7%A9%BA%E5%88%87%E7%89%87%E4%B8%80%E4%B8%8D%E4%B8%80%E6%A0%B7%E9%83%BD%E4%B8%8D%E6%B8%85%E6%A5%9A%EF%BC%9F%E9%82%A3BAT%E9%9D%A2%E8%AF%95%E5%AE%98%E5%8F%AA%E5%A5%BD%E8%AE%A9%E4%BD%A0%E5%9B%9E%E5%8E%BB%E7%AD%89%E9%80%9A%E7%9F%A5%E4%BA%86%E3%80%82.html","title":"连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。","lang":"zh-CN","frontmatter":{"title":"连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。","date":"2020-10-12T22:57:55.000Z","tags":null,"categories":"golang面试题","description":"imgimg 问题 nil 切片和空切片指向的地址一样吗？这个代码会输出什么？ 怎么答 nil 切片和空切片指向的地址不一样。nil 空切片引用数组指针地址为 0（无指向任何实际地址） 空切片的引用数组指针地址是有的，且固定为一个值 解释 之前在前面的文章里提到过切片的数据结构为 nil 切片和空切片最大的区别在于指向的数组引用地址是不一样的。 img...","head":[["meta",{"property":"og:url","content":"https://golangguide.top/golang/golang%E9%9D%A2%E8%AF%95%E9%A2%98/%E8%BF%9Enil%E5%88%87%E7%89%87%E5%92%8C%E7%A9%BA%E5%88%87%E7%89%87%E4%B8%80%E4%B8%8D%E4%B8%80%E6%A0%B7%E9%83%BD%E4%B8%8D%E6%B8%85%E6%A5%9A%EF%BC%9F%E9%82%A3BAT%E9%9D%A2%E8%AF%95%E5%AE%98%E5%8F%AA%E5%A5%BD%E8%AE%A9%E4%BD%A0%E5%9B%9E%E5%8E%BB%E7%AD%89%E9%80%9A%E7%9F%A5%E4%BA%86%E3%80%82.html"}],["meta",{"property":"og:site_name","content":"golang全栈指南"}],["meta",{"property":"og:title","content":"连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。"}],["meta",{"property":"og:description","content":"imgimg 问题 nil 切片和空切片指向的地址一样吗？这个代码会输出什么？ 怎么答 nil 切片和空切片指向的地址不一样。nil 空切片引用数组指针地址为 0（无指向任何实际地址） 空切片的引用数组指针地址是有的，且固定为一个值 解释 之前在前面的文章里提到过切片的数据结构为 nil 切片和空切片最大的区别在于指向的数组引用地址是不一样的。 img..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://cdn.xiaobaidebug.top/image/640-20210524195843699.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-19T03:57:35.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。"}],["meta",{"property":"article:author","content":"小白debug"}],["meta",{"property":"article:published_time","content":"2020-10-12T22:57:55.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-19T03:57:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。\\",\\"image\\":[\\"https://cdn.xiaobaidebug.top/image/640-20210524195843699.png\\",\\"https://cdn.xiaobaidebug.top/image/640.png\\",\\"https://cdn.xiaobaidebug.top/image/640-20210524195829623.png\\"],\\"datePublished\\":\\"2020-10-12T22:57:55.000Z\\",\\"dateModified\\":\\"2024-02-19T03:57:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小白debug\\",\\"url\\":\\"https://xiaobaidebug.top/\\"}]}"]]},"headers":[],"git":{"createdTime":1708315055000,"updatedTime":1708315055000,"contributors":[{"name":"xiaobai","email":"xiaobaidebug@gmail.com","commits":1}]},"readingTime":{"minutes":2.13,"words":639},"filePathRelative":"golang/golang面试题/连nil切片和空切片一不一样都不清楚？那BAT面试官只好让你回去等通知了。.md","localizedDate":"2020年10月12日","autoDesc":true}');export{q as comp,C as data};
