import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as c,c as p,a as n,b as a,d as t,e as i}from"./app-BFOyX52c.js";const l={},r=i(`<figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS81MWY1ZjQ0NS04YzczLTQ1YTYtOTcxOS02NjI2M2Q4NDY2MTYucG5n?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h1 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h1><p><code>json</code>包里使用的时候，结构体里的变量不加<code>tag</code>能不能正常转成<code>json</code>里的字段？</p><h1 id="怎么答" tabindex="-1"><a class="header-anchor" href="#怎么答"><span>怎么答</span></a></h1><ul><li>如果变量<code>首字母小写</code>，则为<code>private</code>。无论如何<code>不能转</code>，因为取不到<code>反射信息</code>。</li><li>如果变量<code>首字母大写</code>，则为<code>public</code>。 <ul><li><code>不加tag</code>，可以正常转为<code>json</code>里的字段，<code>json</code>内字段名跟结构体内字段<code>原名一致</code>。</li><li><code>加了tag</code>，从<code>struct</code>转<code>json</code>的时候，<code>json</code>的字段名就是<code>tag</code>里的字段名，原字段名已经没用。</li></ul></li></ul><h1 id="举例" tabindex="-1"><a class="header-anchor" href="#举例"><span>举例</span></a></h1><p>通过一个例子加深理解。</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;encoding/json&quot;</span>
    <span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>
<span class="token keyword">type</span> J <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    a <span class="token builtin">string</span>             <span class="token comment">//小写无tag</span>
    b <span class="token builtin">string</span> <span class="token string">\`json:&quot;B&quot;\`</span>  <span class="token comment">//小写+tag</span>
    C <span class="token builtin">string</span>             <span class="token comment">//大写无tag</span>
    D <span class="token builtin">string</span> <span class="token string">\`json:&quot;DD&quot;\`</span> <span class="token comment">//大写+tag</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    j <span class="token operator">:=</span> J <span class="token punctuation">{</span>
      a<span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      b<span class="token punctuation">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
      C<span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      D<span class="token punctuation">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;转为json前j结构体的内容 = %+v\\n&quot;</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span>
    jsonInfo<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Marshal</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;转为json后的内容 = %+v\\n&quot;</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>jsonInfo<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出</p><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code>转为json前j结构体的内容 <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span> b<span class="token punctuation">:</span><span class="token number">2</span> C<span class="token punctuation">:</span><span class="token number">3</span> D<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">}</span>
转为json后的内容 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;DD&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="解释" tabindex="-1"><a class="header-anchor" href="#解释"><span>解释</span></a></h1><ul><li>结构体里定义了四个字段，分别对应 <code>小写无tag</code>，<code>小写+tag</code>，<code>大写无tag</code>，<code>大写+tag</code>。</li><li>转为<code>json</code>后首字母<code>小写的</code>不管加不加 tag<code>都不能</code>转为<code>json</code>里的内容，而<code>大写的</code>加了<code>tag</code>可以<code>取别名</code>，不加<code>tag</code>则<code>json</code>内的字段跟结构体字段<code>原名一致</code>。</li></ul><h2 id="相关文章" tabindex="-1"><a class="header-anchor" href="#相关文章"><span>相关文章</span></a></h2>`,13),d={href:"https://golangguide.top/golang/%E9%9D%A2%E8%AF%95%E9%A2%98/2.Go%E8%BF%9B%E9%98%B6.html",target:"_blank",rel:"noopener noreferrer"},u={href:"https://golangguide.top/golang/%E9%9D%A2%E8%AF%95%E9%A2%98/1.Go%E5%85%A5%E9%97%A8.html",target:"_blank",rel:"noopener noreferrer"},g={href:"https://golangguide.top/golang/%E5%B8%B8%E7%94%A8%E5%8C%85%E5%A4%A7%E5%85%A8.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://golangguide.top/golang/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF.html",target:"_blank",rel:"noopener noreferrer"},E=n("h6",{id:"",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#"},[n("span")])],-1),k=n("p",null,[a("关注公众号:【小白 debug】"),n("br"),n("img",{src:"https://cdn.xiaobaidebug.top/1696069689495.png",alt:"",loading:"lazy"})],-1);function h(b,v){const s=o("ExternalLinkIcon");return c(),p("div",null,[r,n("ul",null,[n("li",null,[n("p",null,[n("a",d,[a("golang进阶面试题八股文合集"),t(s)])])]),n("li",null,[n("p",null,[n("a",u,[a("golang基础面试题八股文合集"),t(s)])])]),n("li",null,[n("p",null,[n("a",g,[a("golang常用标准库第三方库大全"),t(s)])])]),n("li",null,[n("p",null,[n("a",m,[a("golang学习路线"),t(s)])])])]),E,k])}const _=e(l,[["render",h],["__file","golang面试题：json包变量不加tag会怎么样？.html.vue"]]),B=JSON.parse('{"path":"/golang/%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9/golang%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Ajson%E5%8C%85%E5%8F%98%E9%87%8F%E4%B8%8D%E5%8A%A0tag%E4%BC%9A%E6%80%8E%E4%B9%88%E6%A0%B7%EF%BC%9F.html","title":"golang面试题：json包变量不加tag会怎么样？","lang":"zh-CN","frontmatter":{"title":"golang面试题：json包变量不加tag会怎么样？","date":"2020-05-18T22:57:55.000Z","tags":null,"categories":"golang面试题","description":" 问题 json包里使用的时候，结构体里的变量不加tag能不能正常转成json里的字段？ 怎么答 如果变量首字母小写，则为private。无论如何不能转，因为取不到反射信息。 如果变量首字母大写，则为public。 不加tag，可以正常转为json里的字段，json内字段名跟结构体内字段原名一致。 加了tag，从struct转json的时候，json的...","head":[["meta",{"property":"og:url","content":"https://golangguide.top/golang/%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9/golang%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Ajson%E5%8C%85%E5%8F%98%E9%87%8F%E4%B8%8D%E5%8A%A0tag%E4%BC%9A%E6%80%8E%E4%B9%88%E6%A0%B7%EF%BC%9F.html"}],["meta",{"property":"og:site_name","content":"golang全栈指南"}],["meta",{"property":"og:title","content":"golang面试题：json包变量不加tag会怎么样？"}],["meta",{"property":"og:description","content":" 问题 json包里使用的时候，结构体里的变量不加tag能不能正常转成json里的字段？ 怎么答 如果变量首字母小写，则为private。无论如何不能转，因为取不到反射信息。 如果变量首字母大写，则为public。 不加tag，可以正常转为json里的字段，json内字段名跟结构体内字段原名一致。 加了tag，从struct转json的时候，json的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS81MWY1ZjQ0NS04YzczLTQ1YTYtOTcxOS02NjI2M2Q4NDY2MTYucG5n?x-oss-process=image/format,png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-28T01:37:12.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"golang面试题：json包变量不加tag会怎么样？"}],["meta",{"property":"article:author","content":"小白debug"}],["meta",{"property":"article:published_time","content":"2020-05-18T22:57:55.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-28T01:37:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"golang面试题：json包变量不加tag会怎么样？\\",\\"image\\":[\\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWdrci5jbi1iai51ZmlsZW9zLmNvbS81MWY1ZjQ0NS04YzczLTQ1YTYtOTcxOS02NjI2M2Q4NDY2MTYucG5n?x-oss-process=image/format,png\\",\\"https://cdn.xiaobaidebug.top/1696069689495.png\\"],\\"datePublished\\":\\"2020-05-18T22:57:55.000Z\\",\\"dateModified\\":\\"2024-02-28T01:37:12.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小白debug\\",\\"url\\":\\"https://xiaobaidebug.top/\\"}]}"],["link",{"rel":"canonical","href":"https://golangguide.top/golang/%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9/golang%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Ajson%E5%8C%85%E5%8F%98%E9%87%8F%E4%B8%8D%E5%8A%A0tag%E4%BC%9A%E6%80%8E%E4%B9%88%E6%A0%B7%EF%BC%9F.html"}],["meta",{"property":"og:url","content":"https://golangguide.top/golang/%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86%E7%82%B9/golang%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9Ajson%E5%8C%85%E5%8F%98%E9%87%8F%E4%B8%8D%E5%8A%A0tag%E4%BC%9A%E6%80%8E%E4%B9%88%E6%A0%B7%EF%BC%9F.html"}],["meta",{"property":"og:site_name","content":"golang全栈指南"}],["meta",{"property":"og:title","content":"golang面试题：json包变量不加tag会怎么样？"}],["meta",{"property":"og:description","content":" 问题 json包里使用的时候，结构体里的变量不加tag能不能正常转成json里的字段？ 怎么答 如果变量首字母小写，则为private。无论如何不能转，因为取不到反射信息。 如果变量首字母大写，则为public。 不加tag，可以正常转为json里的字段，json内字段名跟结构体内字段原名一致。 加了tag，从struct转json的时候，json的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-28T01:37:12.000Z"}],["meta",{"property":"article:published_time","content":"2020-05-18T22:57:55.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-28T01:37:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"golang面试题：json包变量不加tag会怎么样？\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-05-18T22:57:55.000Z\\",\\"dateModified\\":\\"2024-02-28T01:37:12.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"相关文章","slug":"相关文章","link":"#相关文章","children":[]}],"git":{"createdTime":1708315540000,"updatedTime":1709084232000,"contributors":[{"name":"xiaobai","email":"xiaobaidebug@gmail.com","commits":2}]},"readingTime":{"minutes":1.69,"words":506},"filePathRelative":"golang/核心知识点/golang面试题：json包变量不加tag会怎么样？.md","localizedDate":"2020年5月18日","autoDesc":true}');export{_ as comp,B as data};
